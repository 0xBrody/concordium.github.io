



<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Run a Node &mdash; Concordium  documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/graphviz.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../../_static/concordium-logo-no-text.svg"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Become a baker (create blocks)" href="become-baker.html" />
    <link rel="prev" title="Export and importing IDs and accounts using the mobile wallet" href="import-export.html" />
<link href="../../_static/style.css" rel="stylesheet" type="text/css">

</head>

<body class="wy-body-for-nav">

  
    <nav class="topbar">
        <a href="../../smart-contracts/index.html" class=""> <i class="icon fa fa-file-o"></i> Smart Contracts </a>
        <a href="../index.html" class="active" ><i class="icon fa fa-connectdevelop"></i> Testnet</a>
    </nav>

  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: black" >
          

          
            <a href="../../index.html">
          

          
            
            <img src="../../_static/concordium-logo.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Guides</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="account-basics.html">Create an Account, Send and Receive GTU</a></li>
<li class="toctree-l1"><a class="reference internal" href="two-balances.html">One Account, Two Balances and Shielded Transfers</a></li>
<li class="toctree-l1"><a class="reference internal" href="import-export.html">Export and importing IDs and accounts using the mobile wallet</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Run a Node</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#id1">Before you begin</a></li>
<li class="toctree-l2"><a class="reference internal" href="#upgrade-from-an-earlier-version-of-open-testnet">Upgrade from an earlier version of Open Testnet</a></li>
<li class="toctree-l2"><a class="reference internal" href="#my-reference-label">Running a node</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id3">Seeing your node on the dashboards</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id4">Enabling inbound connections</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id5">Stopping the node</a></li>
<li class="toctree-l2"><a class="reference internal" href="#support-feedback">Support &amp; Feedback</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="become-baker.html">Become a baker (create blocks)</a></li>
</ul>
<p class="caption"><span class="caption-text">References</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../references/concordium-client.html">Concordium Client</a></li>
<li class="toctree-l1"><a class="reference internal" href="../references/id-accounts.html">Identities and accounts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../references/manage-accounts.html">Managing Accounts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../references/transactions.html">Transactions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../references/query-node.html">Querying a node</a></li>
</ul>
<p class="caption"><span class="caption-text">See Also</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../see-also/downloads.html">Downloads</a></li>
<li class="toctree-l1"><a class="reference internal" href="../see-also/troubleshooting.html">Troubleshooting and known issues</a></li>
<li class="toctree-l1"><a class="reference internal" href="../see-also/glossary.html">Glossary of Concordium Terms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../see-also/release-notes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../see-also/third-party-licenses.html">Third Party Licenses</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Concordium</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../index.html">Testnet</a> &raquo;</li>
        
      <li>Run a Node</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            
              <a href="https://github.com/Concordium/docs/blob/main/source/testnet/guides/run-node.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="run-a-node">
<h1>Run a Node<a class="headerlink" href="#run-a-node" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#id1" id="id6">Before you begin</a></p></li>
<li><p><a class="reference internal" href="#upgrade-from-an-earlier-version-of-open-testnet" id="id7">Upgrade from an earlier version of Open Testnet</a></p></li>
<li><p><a class="reference internal" href="#my-reference-label" id="id8">Running a node</a></p></li>
<li><p><a class="reference internal" href="#id3" id="id9">Seeing your node on the dashboards</a></p>
<ul>
<li><p><a class="reference internal" href="#network-dashboard" id="id10">Network dashboard</a></p></li>
<li><p><a class="reference internal" href="#node-dashboard" id="id11">Node dashboard</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id4" id="id12">Enabling inbound connections</a></p>
<ul>
<li><p><a class="reference internal" href="#configuring-ports" id="id13">Configuring ports</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id5" id="id14">Stopping the node</a></p></li>
<li><p><a class="reference internal" href="#support-feedback" id="id15">Support &amp; Feedback</a></p></li>
</ul>
</div>
<p>In this guide, you learn how to run a node on your computer that
participates in the Concordium network. This means that you receive
blocks and transactions from other nodes, as well as propagate
information about blocks and transactions to the nodes in the Concordium
network. After following this guide, you will be able to</p>
<ul class="simple">
<li><p>run a Concordium node</p></li>
<li><p>observe it on the node and network dashboards and</p></li>
<li><p>query the state of the Concordium blockchain directly from your
machine.</p></li>
</ul>
<p>You do not need an account to run a node.</p>
<div class="section" id="id1">
<h2>Before you begin<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<p>Before running a Concordium node you will need to</p>
<ol class="arabic simple">
<li><p>Install and run Docker.</p>
<ul class="simple">
<li><p>On <em>Linux</em>, allow Docker to be run as a non-root user.</p></li>
</ul>
</li>
<li><p>Download and extract the <a class="reference external" href="/testnet/docs/downloads#concordium-node-and-client">Concordium Node and Client</a> software. This
produces a directory named <code class="docutils literal notranslate"><span class="pre">concordium-software</span></code>. Move this folder
into the <code class="docutils literal notranslate"><span class="pre">Documents</span></code> folder of your home directory. It’s very
important that this directory is moved in its entirety and with the
name unchanged. The final path should be
<code class="docutils literal notranslate"><span class="pre">$HOME/Documents/concordium-software/&lt;executables&gt;</span></code>.</p></li>
</ol>
</div>
<div class="section" id="upgrade-from-an-earlier-version-of-open-testnet">
<h2>Upgrade from an earlier version of Open Testnet<a class="headerlink" href="#upgrade-from-an-earlier-version-of-open-testnet" title="Permalink to this headline">¶</a></h2>
<p>To upgrade to the current Concordium software for Open Testnet 3:</p>
<ul>
<li><p>Follow the above steps to <a class="reference external" href="/testnet/docs/downloads#concordium-node-and-client">download</a> the most recent Concordium
software.</p></li>
<li><p>Run the <code class="docutils literal notranslate"><span class="pre">concordium-node-reset-data</span></code> executable from the unzipped
archive.</p>
<ul class="simple">
<li><p>For <em>Mac</em> users: the first time you open the tool, right-click the
<code class="docutils literal notranslate"><span class="pre">concordium-node-reset-data</span></code> file and select <strong>Open</strong>. A message
will appear that the software is from an unidentified developer.
Select <strong>Open</strong> again.</p></li>
<li><p>For <em>Windows</em> users: the first time you open the tool,
double-click the <code class="docutils literal notranslate"><span class="pre">concordium-node-reset-data</span></code> file. A message
will appear that the software is from an unidentified developer.
Select <strong>More info</strong> → <strong>Run anyway</strong>.</p></li>
</ul>
</li>
<li><p>The tool will ask:</p>
<blockquote>
<div><p><em>Do you also want to remove saved keys?</em></p>
</div></blockquote>
<p>Accounts that were created for prior versions are no longer valid on
Open Testnet 3. Therefore, if you have stored accounts from prior
versions we recommend entering <strong>y</strong> which will delete all account
keys.</p>
</li>
</ul>
</div>
<div class="section" id="my-reference-label">
<span id="id2"></span><h2>Running a node<a class="headerlink" href="#my-reference-label" title="Permalink to this headline">¶</a></h2>
<p>To start running a client that will join the Open Testnet follow these
steps:</p>
<ol class="arabic simple">
<li><p>Open the <code class="docutils literal notranslate"><span class="pre">concordium-node</span></code> executable from the unzipped archive.</p></li>
</ol>
<ul class="simple">
<li><p>For <em>Mac</em> users: the first time you open the tool, right-click the
<code class="docutils literal notranslate"><span class="pre">concordium-node</span></code> binary and select <strong>Open</strong>. A message will appear
that the software is from an unidentified developer. Select <strong>Open</strong>
again.</p></li>
<li><p>For <em>Windows</em> users: the first time you open the tool, double-click
the <code class="docutils literal notranslate"><span class="pre">concordium-node</span></code> binary. A message will appear that the
software is from an unidentified developer. Select <strong>More info</strong> →
<strong>Run anyway</strong>.</p></li>
<li><p>When <em>restarting</em> a node consider using the
<code class="docutils literal notranslate"><span class="pre">--no-block-state-import</span></code> option. This will download just the
updates to the Concordium blockchain that occurred while the node was
inactive and might speed up the boot process.</p></li>
</ul>
<ol class="arabic simple" start="2">
<li><p>Enter a name for your node. This name will be displayed in the public
dashboard.</p></li>
<li><p>If the tool has been started before you will asked if you want to
delete the local node database before starting. Pressing <strong>y</strong> will
delete and subsequently recreate the information on the state of the
Concordium blockchain that was saved on your computer. <strong>Note that
deleting the local node database means it will take longer for your
node to catch-up with the Concordium network.</strong></p></li>
</ol>
<p>The tool will now download the Concordium Client image and load it into
Docker. The client will launch and start outputting logging information
about the operation of the node.</p>
</div>
<div class="section" id="id3">
<h2>Seeing your node on the dashboards<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<p>After running <code class="docutils literal notranslate"><span class="pre">concordium-node</span></code> you can</p>
<ul class="simple">
<li><p>see your node on the “”” , networkDashboardLink , “””</p></li>
<li><p>access the node dashboard at <a class="reference external" href="http://localhost:8099/">http://localhost:8099</a> (this link
becomes active after the node is run)</p></li>
<li><p><a class="reference external" href="/testnet/docs/queries">query</a> information about blocks, transactions, and accounts</p></li>
</ul>
<div class="section" id="network-dashboard">
<h3>Network dashboard<a class="headerlink" href="#network-dashboard" title="Permalink to this headline">¶</a></h3>
<p>It will take the client a while to catch up with the state of the
Concordium blockchain. This involves, for example, downloading
information about all the blocks in the chain.</p>
<p>Among other information, on the “”” , networkDashboardLink , “”” you can
get an idea of how long it will take your node to catch up with the
chain. For that you can compare the node’s <strong>Length</strong> value (number of
blocks your node received) with the <strong>Chain Len</strong> value (number of
blocks in the longest chain in the network) which is displayed at the
top of the dashboard.</p>
</div>
<div class="section" id="node-dashboard">
<h3>Node dashboard<a class="headerlink" href="#node-dashboard" title="Permalink to this headline">¶</a></h3>
<p>You can also access the <em>node dashboard</em> at <a class="reference external" href="http://localhost:8099/">http://localhost:8099/</a>.</p>
<ul>
<li><p>While the node is catching up with the rest of the blockchain the
dashboard will display the following message:</p>
<blockquote>
<div><p><em>Your node has no peers yet. Please wait before making
transactions.</em></p>
</div></blockquote>
</li>
<li><p>When the node is sufficiently caught up with the blockchain it will
start connecting to peers who will help the node get up-to-date with
the rest of the chain.</p>
<p>At that point the dashboard will say:</p>
<blockquote>
<div><p><em>Your node is currently catching up with the network. Please wait
before making transactions.</em></p>
</div></blockquote>
<p>You can now see the number of messages sent and received by your node
in the top right corner of the dashboard.</p>
</li>
<li><p>When the node is caught up with the Concordium blockchain the above
messages will disappear.</p></li>
</ul>
</div>
</div>
<div class="section" id="id4">
<h2>Enabling inbound connections<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h2>
<p>If you are running your node behind a firewall, or behind your home
router, then you will probably only be able to connect to other nodes,
but other nodes will not be able to initiate connections to your node.
This is perfectly fine, and your node will fully participate in the
Concordium network. It will be able to send transactions and, <a class="reference external" href="/testnet/docs/quickstart-baker">if so
configured</a>, to bake and finalize.</p>
<p>However you can also make your node an even better network participant
by enabling inbound connections. By default, <code class="docutils literal notranslate"><span class="pre">concordium-node</span></code> listens
on port <code class="docutils literal notranslate"><span class="pre">8888</span></code> for inbound connections. Depending on your network and
platform configuration you will either need to forward an external port
to <code class="docutils literal notranslate"><span class="pre">8888</span></code> on your router, open it in your firewall, or both. The
details of how this is done will depend on your configuration.</p>
<div class="section" id="configuring-ports">
<h3>Configuring ports<a class="headerlink" href="#configuring-ports" title="Permalink to this headline">¶</a></h3>
<p>The node listens on four ports, which can be configured by supplying the
appropriate command line arguments when starting the node. The ports
used by the node are as follows:</p>
<ul class="simple">
<li><p>8888, the port for peer-to-peer networking, which can be set with
<code class="docutils literal notranslate"><span class="pre">--listen-node-port</span></code></p></li>
<li><p>8099, the port used by the node dashboard, which can be set with
<code class="docutils literal notranslate"><span class="pre">--listen-dashboard-port</span></code></p></li>
<li><p>8082, the port used by middleware (which supports the node
dashboard), which can be set with <code class="docutils literal notranslate"><span class="pre">--listen-middleware-port</span></code></p></li>
<li><p>10000, the gRPC port, which can be set with <code class="docutils literal notranslate"><span class="pre">--listen-grpc-port</span></code></p></li>
</ul>
<p>When changing the mappings above the docker container must be
<a class="reference external" href="#stopping-the-node">stopped</a>, reset, and started again. To reset the container either use
<code class="docutils literal notranslate"><span class="pre">concordium-node-reset-data</span></code> or run <code class="docutils literal notranslate"><span class="pre">docker</span> <span class="pre">rm</span> <span class="pre">concordium-client</span></code> in
a terminal.</p>
<p>We <em>strongly recommend</em> that your firewall should be configured to only
allow public connections on port 8888 (the peer-to-peer networking
port). Someone with access to the other ports may be able to take
control of your node or accounts you have saved on the node. Remote
access to the node dashboard is not supported, but <a class="reference external" href="/testnet/docs/troubleshooting#node-dashboard-does-not-load">see here</a> for a
workaround.</p>
</div>
</div>
<div class="section" id="id5">
<h2>Stopping the node<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h2>
<p>To stop the node, press <strong>CTRL+c</strong>, and wait for the node to do a clean
shutdown.</p>
<p>If you accidentally close the window without explicitly shutting down
the client, it will keep running in the background in Docker. In that
case, use the <code class="docutils literal notranslate"><span class="pre">concordium-node-stop</span></code> binary in the same way you opened
the <code class="docutils literal notranslate"><span class="pre">concordium-node</span></code> executable.</p>
</div>
<div class="section" id="support-feedback">
<h2>Support &amp; Feedback<a class="headerlink" href="#support-feedback" title="Permalink to this headline">¶</a></h2>
<p>Logging information for your node can be retrieved using the
<code class="docutils literal notranslate"><span class="pre">concordium-node-retrieve-logs</span></code> tool. This will save logs from the
running image to a file. Additionally, if given permission, it will
retrieve information about the programs currently running on the system.</p>
<p>You can send your logs, system information, questions and feedback to
<a class="reference external" href="mailto:testnet&#37;&#52;&#48;concordium&#46;com">testnet<span>&#64;</span>concordium<span>&#46;</span>com</a>. You can also reach out at our <a class="reference external" href="https://discord.gg/xWmQ5tp">Discord</a>, or
check out our <a class="reference external" href="/testnet/docs/troubleshooting">Troubleshooting</a> page.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="become-baker.html" class="btn btn-neutral float-right" title="Become a baker (create blocks)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="import-export.html" class="btn btn-neutral float-left" title="Export and importing IDs and accounts using the mobile wallet" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
<a href="http://creativecommons.org/licenses/by-sa/4.0/">
    <img style="margin-bottom: 0.5em" src="../../_static/cc-sa-by.png" />
</a>

    <p>
        &#169; Copyright 2020, Concordium.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>